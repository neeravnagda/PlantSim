#ifndef MAINWINDOW_H_
#define MAINWINDOW_H_

#include <QMainWindow>
#include "NGLScene.h"
#include "PlantBlueprintDialog.h"
#include "LightsDialog.h"

//----------------------------------------------------------------------------------------------------------------------
/// @file MainWindow.h
/// @brief This class is the main window, containing the NGLScene widget and UI functions
/// @author Neerav Nagda
/// @version 0.4
/// @date 01/04/17
/// @class MainWindow
/// @brief This class is the main window, containing widgets and UI functions
//----------------------------------------------------------------------------------------------------------------------

namespace Ui {
class MainWindow;
}

class MainWindow : public QMainWindow
{
		Q_OBJECT

	public:
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Constructor
		/// @param parent This is set to 0 by default as everything will be a child of this class
		//----------------------------------------------------------------------------------------------------------------------
		explicit MainWindow(QWidget *parent = 0);
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Destructor
		//----------------------------------------------------------------------------------------------------------------------
		~MainWindow();

	private slots:
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Quit the application
		//----------------------------------------------------------------------------------------------------------------------
		void quit();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Open the plant blueprint dialog via the main UI
		//----------------------------------------------------------------------------------------------------------------------
		void openPlantBlueprintDialogFromUI();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Open the plant blueprint dialog from the menu bar
		//----------------------------------------------------------------------------------------------------------------------
		void openPlantBlueprintDialogFromMenubar();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Close the plant blueprint dialog
		//----------------------------------------------------------------------------------------------------------------------
		void closePlantBlueprintDialog();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Create a new plant object
		//----------------------------------------------------------------------------------------------------------------------
		void createNewPlant();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Create a new Plant Blueprint
		/// This calls the function from the class PlantBlueprintDialog with the same name
		/// If the Dialog returns true, close the dialog, else keep it open
		//----------------------------------------------------------------------------------------------------------------------
		void createPlantBlueprint();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Update the all plants in the scene
		/// This is calls the function from the class NGLScene to update the plants
		//----------------------------------------------------------------------------------------------------------------------
		void updatePlants();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Open the dialog to edit lights
		//----------------------------------------------------------------------------------------------------------------------
		void openLightsDialog();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Close the dialog to edit lights
		//----------------------------------------------------------------------------------------------------------------------
		void closeLightsDialog();
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Set the light active status
		/// @param _lightIndex The light index to change
		/// @param _status The status of the light (on/off)
		/// This forwards parameters to NGLScene
		//----------------------------------------------------------------------------------------------------------------------
		void setLightActive(int _light, bool _status);
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Set the light position
		/// @param _lightIndex The light index to change
		/// @param _position The new light position
		/// This forwards parameters to NGLScene
		//----------------------------------------------------------------------------------------------------------------------
		void setLightPosition(int _light, ngl::Vec3 _position);
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Set the light ambient colour
		/// @param _lightIndex The light index to change
		/// @param _ambient The new ambient colour
		/// This forwards parameters to NGLScene
		//----------------------------------------------------------------------------------------------------------------------
		void setLightAmbient(int _light, ngl::Vec3 _ambient);
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Set the light diffuse colour
		/// @param _lightIndex The light index to change
		/// @param _diffuse The new diffuse colour
		/// This forwards parameters to NGLScene
		//----------------------------------------------------------------------------------------------------------------------
		void setLightDiffuse(int _light, ngl::Vec3 _diffuse);
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Set the light ambient colour
		/// @param _lightIndex The light index to change
		/// @param _specular The new specular colour
		/// This forwards parameters to NGLScene
		//----------------------------------------------------------------------------------------------------------------------
		void setLightSpecular(int _light, ngl::Vec3 _specular);

	private:
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief The GUI
		//----------------------------------------------------------------------------------------------------------------------
		Ui::MainWindow *m_ui;
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief OpenGL widget
		//----------------------------------------------------------------------------------------------------------------------
		NGLScene *m_gl;
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Dialog box to create a new Plant Blueprint Instance
		//----------------------------------------------------------------------------------------------------------------------
		PlantBlueprintDialog *m_plantBlueprintDialog;
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief Dialog box to manage lights in the scene
		//----------------------------------------------------------------------------------------------------------------------
		LightsDialog *m_lightsDialog;
};

#endif // MAINWINDOW_H_
